<!-- 
     This file is part of ChiVO, the Chilean Virtual Observatory
     A project sponsored by FONDEF (D11I1060)
     Copyright (C) 2015 Universidad Tecnica Federico Santa Maria
                        Universidad de Chile
                        Pontificia Universidad Catolica
                        Universidad de Concepcion
                        Universidad de Santiago
    
     This program is free software; you can redistribute it and/or modify 
     it under the terms of the GNU General Public License as published by 
     the Free Software Foundation; either version 2 of the License, or 
     (at your option) any later version.
    
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.
    
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 
     02110-1301, USA or visit <http://www.gnu.org/licenses/>.
-->


<%= javascript_include_tag "voview" %>
<%= stylesheet_link_tag  "voview", media: "all" %>


<div class="page-header">
  <h1>VOView Example</h1>
</div>

<script type="text/javascript">//<![CDATA[
  /**
    Make a new VOView object.  The form containing the input information is 
    specified, as well as the widgetID, which is used below to indicate where 
    in the page the VOView display will be placed.
  **/
myVoview =  new voview({input: {form: "searchForm"}, widgetID: "voviewTab"});
  /**
    Uncomment the line below to show an example of reformatting a column.  This
    example really only works with the example_input.xml file.
  **/
// myVoview.renderObject.columnFormat("name", "<a onclick=\"return nw(this.href, this.target)\" href=\"http://simbad.u-strasbg.fr/sim-id.pl?protcol=html&Ident=@@&Frame3=G\" title=\"Link to Simbad details\">@@</a>");
myVoview.renderObject.enableRowSelection();
  //]]>
</script>

<!-- 
  The form containing the input information for VOView.  Submitting the form results
  in the execution of the start() method for the VOView object.  The values from the 
  form elements are obtained based on the element name.  Thus query_string must be 
  specified as the name of the element from which to get the input table URL.  Similarly 
  for sort_column and sort_order.
 -->
<form method="get" name="searchForm" onsubmit="return myVoview.start()" action="" class="form-horizontal" role="form">
  <div class="form-group">
    <label for="sterm" class="col-sm-2 control-label">URL</label>
    <div class="col-sm-10">
      <input name="query_string" id="sterm" value="http://localhost:3000/example_input.xml" type="text" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <label for="sortcol" class="col-sm-2 control-label">Sort Column</label>
    <div class="col-sm-10">
      <input name="sort_column" id="sortcol" value="hardness_ratio_1" type="text" class="form-control">
    </div>
  </div>
  <div class="form-group">
    <label for="sortdir" class="col-sm-2 control-label">Sort Order</label>
    <div class="col-sm-10">
      <select name="sort_order" id="sortdir" >
        <option value="ascending">ascending</option>
        <option value="descending">descending</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <!-- <input type="submit" class="submit" name="_submit" value="Process" > -->
      <button type="submit" class="btn btn-default" name="_submit">Sign in</button>
    </div>
  </div>
</form>
<!-- 
  Specifying the widget ID (in this example voviewTab) as one of the classes for 
  the div element indicates that this is where the VOView display should be placed.
 -->
<div class="voviewTab">
  Table should appear here.
</div>
<!--  h3>Debug output:</h3>
<pre id="debug_output">
  debug output appears here.
</pre -->
